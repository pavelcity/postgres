create table customers (
id serial primary key,
name varchar(30) not null,
last_name varchar(30) not null,
email varchar(30) unique check (email != ''),
age int default 17 check (age>0 and age <100) )


create table ordering (
order_id int,
product_id int,
quantity int,
price int,
primary key (order_id, product_id)
)


UNIQUE
Если мы хотим, чтобы столбец имел только уникальные значения, то для него можно определить атрибут UNIQUE.


CREATE TABLE Customers
(
Id SERIAL PRIMARY KEY,
FirstName CHARACTER VARYING(20),
LastName CHARACTER VARYING(20),
Email CHARACTER VARYING(30) UNIQUE,
Phone CHARACTER VARYING(30) UNIQUE,
Age INTEGER
);

CREATE TABLE Customers
(
Id SERIAL PRIMARY KEY,
FirstName CHARACTER VARYING(20),
LastName CHARACTER VARYING(20),
Email CHARACTER VARYING(30),
Phone CHARACTER VARYING(30),
Age INTEGER,
UNIQUE(Email, Phone)
);


CHECK
Ключевое слово CHECK задает ограничение для диапазона значений, которые могут храниться в столбце. Для этого после слова
CHECK указывается в скобках условие, которому должен соответствовать столбец или несколько столбцов. Например, возраст
клиентов не может быть меньше 0 или больше 100:

CREATE TABLE Customers
(
Id SERIAL PRIMARY KEY,
FirstName CHARACTER VARYING(20),
LastName CHARACTER VARYING(20),
Age INTEGER DEFAULT 18 CHECK(Age >0 AND Age < 100), Email CHARACTER VARYING(30) UNIQUE CHECK(Email !='' ), Phone
    CHARACTER VARYING(20) UNIQUE CHECK(Phone !='' ) );


CREATE TABLE Customers
(
    Id SERIAL PRIMARY KEY,
    Age INTEGER DEFAULT 18,
    FirstName CHARACTER VARYING(20),
    LastName CHARACTER VARYING(20),
    Email CHARACTER VARYING(30) UNIQUE,
    Phone CHARACTER VARYING(20) UNIQUE,
    CHECK((Age >0 AND Age<100) AND (Email !='') AND (Phone !=''))
);


Оператор CONSTRAINT. Установка имени ограничений.
С помощью ключевого слова CONSTRAINT можно задать имя для ограничений. В качестве ограничений могут использоваться PRIMARY KEY, UNIQUE, CHECK.

Имена ограничений можно задать на уровне столбцов. Они указываются после CONSTRAINT перед атрибутами:

CREATE TABLE Customers
(
    Id SERIAL CONSTRAINT customer_Id PRIMARY KEY,
    Age INTEGER CONSTRAINT customers_age_check CHECK(Age >0 AND Age < 100),
    FirstName CHARACTER VARYING(20) NOT NULL,
    LastName CHARACTER VARYING(20) NOT NULL,
    Email CHARACTER VARYING(30) CONSTRAINT customers_email_key UNIQUE,
    Phone CHARACTER VARYING(20) CONSTRAINT customers_phone_key UNIQUE
);
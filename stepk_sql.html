drop table if exists users;

create table users (
user_id serial primary key,
firstname varchar(100),
lastname varchar(100),
login varchar(100),
email varchar(100) unique,
password_hash varchar(256),
phone bigint unique
);

-- Создание индекса на firstname и lastname
CREATE INDEX idx_users_firstname_lastname ON users (firstname, lastname);


---
CREATE TYPE color_scheme_enum AS ENUM ('classic', 'day', 'tinted', 'night');
create type languages_scheme_enum as enum('english', 'russian', 'french');


drop table if exists user_settings;

create table user_settings
(
user_id int not null,
is_premium_account bool default false,
is_night_mode_enabled bool,
color_scheme color_scheme_enum,
language_scheme languages_scheme_enum,
status_text varchar(70),
notifications_and_sounds json,
created_at timestamp default NOW(),

foreign key (user_id)
references users (user_id)
on delete cascade
);




alter table user_settings
add column birthday date;